!function t(e,i,a){function n(s,o){if(!i[s]){if(!e[s]){var l="function"==typeof require&&require;if(!o&&l)return l(s,!0);if(r)return r(s,!0);var h=new Error("Cannot find module '"+s+"'");throw h.code="MODULE_NOT_FOUND",h}var u=i[s]={exports:{}};e[s][0].call(u.exports,function(t){var i=e[s][1][t];return n(i?i:t)},u,u.exports,t,e,i,a)}return i[s].exports}for(var r="function"==typeof require&&require,s=0;s<a.length;s++)n(a[s]);return n}({1:[function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}var n=t("./infinitree/game"),r=a(n),s=new r["default"];s.run()},{"./infinitree/game":4}],2:[function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}();Object.defineProperty(i,"__esModule",{value:!0});var s=t("./section"),o=a(s),l=t("./leaf"),h=a(l),u=t("./play_sound"),c=a(u),f=function(){function t(e,i,a){n(this,t),this.tree=e,this.x=i,this.y=a,this.lastX=this.x,this.lastY=this.y+10,this.targetX=0,this.sections=[],this.leaves=[],this.sectionTimer=0,this.lastLeaf=0,this.alive=!0,this.addSection(this.x,this.y,this.lastX,this.lastY)}return r(t,[{key:"update",value:function(t){if(this.alive){this.sectionTimer+=t,this.sectionTimer>=this.tree.growthInterval&&(this.targetX>0?(this.x-=5,this.targetX-=.5):this.targetX<0&&(this.x+=5,this.targetX+=.5),this.y-=5,this.addSection(this.x,this.y,this.lastX,this.lastY),this.lastLeaf>3&&Math.random()>.9?(this.addLeaf(this.x,this.y,this.lastX,this.lastY),this.lastLeaf=0):this.lastLeaf++,this.lastX=this.x,this.lastY=this.y,this.sectionTimer-=this.tree.growthInterval);var e=!0,i=!1,a=void 0;try{for(var n,r=this.sections[Symbol.iterator]();!(e=(n=r.next()).done);e=!0){var s=n.value;s.update(t)}}catch(o){i=!0,a=o}finally{try{!e&&r["return"]&&r["return"]()}finally{if(i)throw a}}(this.x<-10||this.x>650)&&((0,c["default"])("audio/hit.mp3"),this.tree.game.shake(400),this.tree.game.emitParticles(this.x,this.y,"images/obstacle_particle.png",25),this.alive=!1)}}},{key:"draw",value:function(t,e,i){for(var a=0;a<this.sections.length;a++)this.sections[a].draw(t,e,i,a===this.sections.length-1);var n=!0,r=!1,s=void 0;try{for(var o,l=this.leaves[Symbol.iterator]();!(n=(o=l.next()).done);n=!0){var h=o.value;h.draw(t,e,i)}}catch(u){r=!0,s=u}finally{try{!n&&l["return"]&&l["return"]()}finally{if(r)throw s}}}},{key:"addSection",value:function(t,e,i,a){var n=Math.atan2(a-this.y,i-this.x)-Math.PI/2;if(this.sections.length<100)this.sections.push(new o["default"](this,t,e,n));else{for(var r=0;r<this.sections.length-1;r++)this.sections[r].x=this.sections[r+1].x,this.sections[r].y=this.sections[r+1].y,this.sections[r].angle=this.sections[r+1].angle;this.sections[this.sections.length-1].x=t,this.sections[this.sections.length-1].y=e,this.sections[this.sections.length-1].angle=n}}},{key:"addLeaf",value:function(t,e,i,a){var n=Math.atan2(a-this.y,i-this.x)-Math.PI/2,r=Math.random()>.5?1:0;if(this.leaves.length<25)this.leaves.push(new h["default"](this,t,e,n,r));else{for(var s=0;s<this.leaves.length-1;s++)this.leaves[s].x=this.leaves[s+1].x,this.leaves[s].y=this.leaves[s+1].y,this.leaves[s].angle=this.leaves[s+1].angle,this.leaves[s].side=this.leaves[s+1].side;this.leaves[this.leaves.length-1].x=t,this.leaves[this.leaves.length-1].y=e,this.leaves[this.leaves.length-1].angle=n,this.leaves[this.leaves.length-1].side=r}}}]),t}();i["default"]=f},{"./leaf":8,"./play_sound":12,"./section":15}],3:[function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}();Object.defineProperty(i,"__esModule",{value:!0});var s=t("./get_image"),o=a(s),l=function(){function t(e,i,a){n(this,t),this.x=e,this.y=i,this.xSpeed=a}return r(t,[{key:"update",value:function(t){this.x+=this.xSpeed*t}},{key:"draw",value:function(t,e,i){var a=(0,o["default"])("images/cloud.png");a?t.drawImage(a,this.x-e,this.y-i):(t.fillStyle="black",t.fillRect(this.x-e,this.y-i,100,50))}}]),t}();i["default"]=l},{"./get_image":6}],4:[function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}();Object.defineProperty(i,"__esModule",{value:!0});var s=t("./sky"),o=a(s),l=t("./title"),h=a(l),u=t("./ground"),c=a(u),f=t("./tree"),d=a(f),v=t("./obstacle"),y=a(v),p=t("./particle"),g=a(p),m=t("./music"),b=a(m),w=t("./game_over"),x=a(w),_=t("./preload_images"),M=a(_),k=t("./preload_sounds"),S=a(k),O=function(){function t(){n(this,t),(0,M["default"])(["images/branch_particle.png","images/cloud.png","images/end_section.png","images/ground_top.png","images/ground.png","images/left_leaf.png","images/obstacle_particle.png","images/obstacle0.png","images/obstacle1.png","images/right_leaf.png","images/section.png","images/splitter.png"]),(0,S["default"])(["audio/infinitree.mp3","audio/hit.mp3","audio/split.mp3"]),this.canvas=document.createElement("canvas"),this.canvas.width=640,this.canvas.height=480,document.body.appendChild(this.canvas),this.context=this.canvas.getContext("2d"),this.title=new h["default"],this.ground=new c["default"],this.started=!1,this.over=!1,this.sky=new o["default"](this),this.tree=new d["default"](this),this.obstacles=[],this.particles=[],this.score=0,this.xOffset=0,this.yOffset=0,this.obstacleTimer=1500,this.shakeTimer=0,this.music=new b["default"],this.gameOver=new x["default"](this),this.lastTime=performance.now()}return r(t,[{key:"start",value:function(){this.title=new h["default"],this.ground=new c["default"],this.started=!1,this.over=!1,this.sky=new o["default"](this),this.tree=new d["default"](this),this.obstacles=[],this.particles=[],this.score=0,this.xOffset=0,this.yOffset=0,this.obstacleTimer=1500,this.shakeTimer=0,this.gameOver=new x["default"](this)}},{key:"run",value:function(){var t=this,e=performance.now(),i=e-this.lastTime;this.update(i),this.draw(),this.lastTime=e,requestAnimationFrame(function(){return t.run()})}},{key:"update",value:function(t){if(this.sky.update(t),this.started&&this.tree.update(t),this.yOffset=this.tree.yOffset,this.started&&(this.obstacleTimer-=t),this.obstacleTimer<=0&&!this.over){for(var e=Math.random()>.8,i=0;(e?2:1)>i;i++){var a=Math.floor(2*Math.random()%2),n=600*Math.random();e&&(n=0===i?250*Math.random():350+250*Math.random()),this.addObstacle(n,this.yOffset-100,"images/obstacle"+a+".png")}this.obstacleTimer=400+1e3*Math.random()}var r=!0,s=!1,o=void 0;try{for(var l,h=this.obstacles[Symbol.iterator]();!(r=(l=h.next()).done);r=!0){var u=l.value;u.update(t)}}catch(c){s=!0,o=c}finally{try{!r&&h["return"]&&h["return"]()}finally{if(s)throw o}}var f=!0,d=!1,v=void 0;try{for(var y,p=this.particles[Symbol.iterator]();!(f=(y=p.next()).done);f=!0){var g=y.value;g.update(t)}}catch(c){d=!0,v=c}finally{try{!f&&p["return"]&&p["return"]()}finally{if(d)throw v}}this.shakeTimer>0&&(this.shakeTimer-=t),this.started||this.title.update(t),this.tree.alive||(this.gameOver.over=!0),this.over&&this.gameOver.update(t),this.started=this.title.started,this.over=this.gameOver.over}},{key:"draw",value:function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.translate(0,0);var t=this.xOffset,e=this.yOffset;this.shakeTimer>0&&(t+=-5+Math.round(10*Math.random()%10),e+=-5+Math.round(10*Math.random()%10)),this.sky.draw(this.context,t,e),this.ground.draw(this.context,t,e),this.tree.draw(this.context,t,e);var i=!0,a=!1,n=void 0;try{for(var r,s=this.obstacles[Symbol.iterator]();!(i=(r=s.next()).done);i=!0){var o=r.value;o.draw(this.context,t,e)}}catch(l){a=!0,n=l}finally{try{!i&&s["return"]&&s["return"]()}finally{if(a)throw n}}var h=!0,u=!1,c=void 0;try{for(var f,d=this.particles[Symbol.iterator]();!(h=(f=d.next()).done);h=!0){var v=f.value;v.draw(this.context,t,e)}}catch(l){u=!0,c=l}finally{try{!h&&d["return"]&&d["return"]()}finally{if(u)throw c}}this.started?this.over?this.gameOver.draw(this.context):(this.context.font="24px monospace",this.context.textBaseline="top",this.context.fillStyle="black",this.context.fillText("Score: "+this.score,10,10)):this.title.draw(this.context),this.context.setTransform(1,0,0,1,0,0)}},{key:"addObstacle",value:function(t,e,i){if(this.obstacles.length<20)this.obstacles.push(new y["default"](this,t,e,i));else{for(var a=0;a<this.obstacles.length-1;a++)this.obstacles[a].x=this.obstacles[a+1].x,this.obstacles[a].y=this.obstacles[a+1].y,this.obstacles[a].type=this.obstacles[a+1].type;this.obstacles[this.obstacles.length-1].x=t,this.obstacles[this.obstacles.length-1].y=e,this.obstacles[this.obstacles.length-1].type=i}}},{key:"shake",value:function(t){this.shakeTimer+=t}},{key:"emitParticles",value:function(t,e,i,a){for(var n=0;a>n;n++){var r=(Math.random()>.5?1:-1)*(.1+.4*Math.random()),s=(Math.random()>.5?1:-1)*(.1+.4*Math.random());this.addParticle(t,e,r,s,i)}}},{key:"addParticle",value:function(t,e,i,a,n){if(this.particles.length<100)this.particles.push(new g["default"](t,e,i,a,n));else{for(var r=0;r<this.particles.length-1;r++)this.particles[r].x=this.particles[r+1].x,this.particles[r].y=this.particles[r+1].y,this.particles[r].xSpeed=this.particles[r+1].xSpeed,this.particles[r].ySpeed=this.particles[r+1].ySpeed,this.particles[r].type=this.particles[r+1].type;this.particles[this.particles.length-1].x=t,this.particles[this.particles.length-1].y=e,this.particles[this.particles.length-1].xSpeed=i,this.particles[this.particles.length-1].ySpeed=a,this.particles[this.particles.length-1].type=n}}}]),t}();i["default"]=O},{"./game_over":5,"./ground":7,"./music":9,"./obstacle":10,"./particle":11,"./preload_images":13,"./preload_sounds":14,"./sky":16,"./title":18,"./tree":19}],5:[function(t,e,i){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}();Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function t(e){var i=this;a(this,t),this.game=e,this.over=!1,this.timer=0,addEventListener("keydown",function(t){(37===t.which||39===t.which)&&i.over&&i.timer>=1e3&&(i.game.start(),i.over=!1)})}return n(t,[{key:"update",value:function(t){this.over&&(this.timer+=t)}},{key:"draw",value:function(t){t.textBaseline="top",t.fillStyle="rgb(82, 42, 14)",t.font="60px monospace",t.fillText("Game Over",160,30),t.fillStyle="rgb(154, 148, 78)",t.font="20px monospace",t.fillText("You scored "+this.game.score.toString()+" points.",10,150),t.fillText("Press [left] or [right] to try again.",10,180)}}]),t}();i["default"]=r},{}],6:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=new Map,n=function r(t){var e=a.get(t);return e?e.loaded?e:null:(e=new Image,e.loaded=!1,e.addEventListener("load",function(){e.loaded=!0}),e.src=t,a.set(t,e),r(t))};i["default"]=n},{}],7:[function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}();Object.defineProperty(i,"__esModule",{value:!0});var s=t("./get_image"),o=a(s),l=function(){function t(){n(this,t)}return r(t,[{key:"draw",value:function(t,e,i){for(var a=(0,o["default"])("images/ground_top.png"),n=(0,o["default"])("images/ground.png"),r=0;640>=r;r+=50)for(var s=480;720>=s;s+=50)480===s&&a?t.drawImage(a,r-e,s-i):n?t.drawImage(n,r-e,s-i):(t.fillStyle="black",t.fillRect(r-e,s-i,50,50))}}]),t}();i["default"]=l},{"./get_image":6}],8:[function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}();Object.defineProperty(i,"__esModule",{value:!0});var s=t("./get_image"),o=a(s),l=function(){function t(e,i,a,r,s){n(this,t),this.branch=e,this.x=i,this.y=a,this.angle=r,this.side=s}return r(t,[{key:"draw",value:function(t,e,i){t.translate(this.x+(1===this.side?10:-10)-e,this.y-i),t.rotate(this.angle);var a=1===this.side?(0,o["default"])("images/right_leaf.png"):(0,o["default"])("images/left_leaf.png");a?t.drawImage(a,-5,-5):t.fillRect(-5,-5,10,10),t.setTransform(1,0,0,1,0,0)}}]),t}();i["default"]=l},{"./get_image":6}],9:[function(t,e,i){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var n=function r(){a(this,r),this.audio=new Audio("audio/infinitree.mp3"),this.audio.loop=!0,this.audio.play()};i["default"]=n},{}],10:[function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}();Object.defineProperty(i,"__esModule",{value:!0});var s=t("./get_image"),o=a(s),l=t("./play_sound"),h=a(l),u=function(){function t(e,i,a,r){n(this,t),this.game=e,this.x=i,this.y=a,this.type=r}return r(t,[{key:"update",value:function(t){var e=!0,i=!1,a=void 0;try{for(var n,r=this.game.tree.branches[Symbol.iterator]();!(e=(n=r.next()).done);e=!0){var s=n.value;if(s.alive){var o=s.sections[s.sections.length-1];Math.abs(o.x-this.x)<=50&&Math.abs(o.y-this.y)<=50&&((0,h["default"])("audio/hit.mp3"),this.game.shake(400),this.game.emitParticles(this.x,this.y,"images/obstacle_particle.png",25),s.alive=!1)}}}catch(l){i=!0,a=l}finally{try{!e&&r["return"]&&r["return"]()}finally{if(i)throw a}}}},{key:"draw",value:function(t,e,i){var a=(0,o["default"])(this.type);a?t.drawImage(a,this.x-50-e,this.y-50-i):(t.fillStyle="black",t.fillRect(this.x-50-e,this.y-50-i,100,100))}}]),t}();i["default"]=u},{"./get_image":6,"./play_sound":12}],11:[function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}();Object.defineProperty(i,"__esModule",{value:!0});var s=t("./get_image"),o=a(s),l=function(){function t(e,i,a,r,s){n(this,t),this.x=e,this.y=i,this.xSpeed=a,this.ySpeed=r,this.type=s}return r(t,[{key:"update",value:function(t){this.x+=this.xSpeed*t,this.y+=this.ySpeed*t}},{key:"draw",value:function(t,e,i){var a=(0,o["default"])(this.type);a?t.drawImage(a,this.x-e,this.y-i):(t.fillStyle="black",t.fillRect(this.x-e,this.y-i,5,5))}}]),t}();i["default"]=l},{"./get_image":6}],12:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=new Map,n=function(t){var e=a.get(t);e?e.play():(e=new Audio(t),e.play())};i["default"]=n},{}],13:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=function(t){var e=!0,i=!1,a=void 0;try{for(var n,r=t[Symbol.iterator]();!(e=(n=r.next()).done);e=!0){var s=n.value;(new Image).src=s}}catch(o){i=!0,a=o}finally{try{!e&&r["return"]&&r["return"]()}finally{if(i)throw a}}};i["default"]=a},{}],14:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=function(t){var e=!0,i=!1,a=void 0;try{for(var n,r=t[Symbol.iterator]();!(e=(n=r.next()).done);e=!0){var s=n.value;new Audio(s)}}catch(o){i=!0,a=o}finally{try{!e&&r["return"]&&r["return"]()}finally{if(i)throw a}}};i["default"]=a},{}],15:[function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}();Object.defineProperty(i,"__esModule",{value:!0});var s=t("./get_image"),o=a(s),l=function(){function t(e,i,a,r){n(this,t),this.branch=e,this.x=i,this.y=a,this.angle=r}return r(t,[{key:"update",value:function(t){}},{key:"draw",value:function(t,e,i,a){t.translate(this.x-e,this.y-i),t.rotate(this.angle);var n=a?(0,o["default"])("images/end_section.png"):(0,o["default"])("images/section.png");n?t.drawImage(n,-5,-5):t.fillRect(-5,-5,10,10),t.setTransform(1,0,0,1,0,0)}}]),t}();i["default"]=l},{"./get_image":6}],16:[function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}();Object.defineProperty(i,"__esModule",{value:!0});var s=t("./cloud"),o=a(s),l=function(){function t(e){n(this,t),this.game=e,this.hue=240,this.saturation=100,this.lightness=50,this.hueDirection=-1,this.saturationDirection=-1,this.lightnessDirection=1,this.clouds=[];for(var i=0;3>i;i++)this.addCloud(240+180*Math.random());this.cloudTimer=400+3e3*Math.random()}return r(t,[{key:"update",value:function(t){this.hueDirection>0?(this.hue+=.01*Math.random()*t,this.hue>260&&(this.hue=260,this.hueDirection=-1)):(this.hue-=.01*Math.random()*t,this.hue<180&&(this.hue=180,this.hueDirection=1)),this.saturationDirection>0?(this.saturation+=.005*Math.random()*t,this.saturation>100&&(this.saturation=100,this.saturationDirection=-1)):(this.saturation-=.005*Math.random()*t,this.saturation<50&&(this.saturation=50,this.saturationDirection=1)),this.lightnessDirection>0?(this.lightness+=.01*Math.random()*t,this.lightness>80&&(this.lightness=80,this.lightnessDirection=-1)):(this.lightness-=.01*Math.random()*t,this.lightness<50&&(this.lightness=50,this.lightnessDirection=1)),this.cloudTimer-=t,this.cloudTimer<=0&&this.game.started&&(this.addCloud(this.game.yOffset-300),this.cloudTimer=400+3e3*Math.random());var e=!0,i=!1,a=void 0;try{for(var n,r=this.clouds[Symbol.iterator]();!(e=(n=r.next()).done);e=!0){var s=n.value;s.update(t)}}catch(o){i=!0,a=o}finally{try{!e&&r["return"]&&r["return"]()}finally{if(i)throw a}}}},{key:"draw",value:function(t,e,i){t.fillStyle="hsl("+Math.round(this.hue)+", "+Math.round(this.saturation)+"%, "+Math.round(this.lightness)+"%)",t.fillRect(0,0,t.canvas.width,t.canvas.height);var a=!0,n=!1,r=void 0;try{for(var s,o=this.clouds[Symbol.iterator]();!(a=(s=o.next()).done);a=!0){var l=s.value;l.draw(t,e,i)}}catch(h){n=!0,r=h}finally{try{!a&&o["return"]&&o["return"]()}finally{if(n)throw r}}}},{key:"addCloud",value:function(t){var e=640*Math.random(),i=-.05+.1*Math.random();if(this.clouds.length<10)this.clouds.push(new o["default"](e,t,i));else{for(var a=0;a<this.clouds.length-1;a++)this.clouds[a].x=this.clouds[a+1].x,this.clouds[a].y=this.clouds[a+1].y,this.clouds[a].xSpeed=this.clouds[a+1].xSpeed;this.clouds[this.clouds.length-1].x=e,this.clouds[this.clouds.length-1].y=t,this.clouds[this.clouds.length-1].xSpeed=i}}}]),t}();i["default"]=l},{"./cloud":3}],17:[function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}();Object.defineProperty(i,"__esModule",{value:!0});var s=t("./get_image"),o=a(s),l=t("./play_sound"),h=a(l),u=function(){function t(e,i,a){n(this,t),this.tree=e,this.x=i,this.y=a,this.active=!0}return r(t,[{key:"update",value:function(t){if(this.active){var e=!0,i=!1,a=void 0;try{for(var n,r=this.tree.branches[Symbol.iterator]();!(e=(n=r.next()).done);e=!0){var s=n.value,o=s.sections[s.sections.length-1];if(Math.abs(o.x-this.x)<=25&&Math.abs(o.y-this.y)<=25)return(0,h["default"])("audio/split.mp3"),this.tree.splitBranch(s),this.active=!1,this.tree.game.shake(400),void this.tree.game.emitParticles(this.x,this.y,"images/branch_particle.png",25)}}catch(l){i=!0,a=l}finally{try{!e&&r["return"]&&r["return"]()}finally{if(i)throw a}}}}},{key:"draw",value:function(t,e,i){if(this.active){t.translate(this.x+(1===this.side?10:-10)-e,this.y-i);var a=(0,o["default"])("images/splitter.png");a?t.drawImage(a,-12,-12):t.fillRect(-12,-12,25,25),t.setTransform(1,0,0,1,0,0)}}}]),t}();i["default"]=u},{"./get_image":6,"./play_sound":12}],18:[function(t,e,i){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}();Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function t(){var e=this;a(this,t),this.started=!1,addEventListener("keydown",function(t){(37===t.which||39===t.which)&&(e.started=!0)}),this.alpha=0}return n(t,[{key:"update",value:function(t){this.alpha<1?this.alpha+=.001*t:this.alpha=1}},{key:"draw",value:function(t){t.textBaseline="top",t.fillStyle="rgba(82, 42, 14, "+this.alpha+")",t.font="60px monospace",t.fillText("Infinitree",150,30),t.fillStyle="rgba(154, 148, 78, "+this.alpha+")",t.font="20px monospace",t.fillText("Grow to infinity and beyond!",160,130),t.fillText("But watch out, there are all kinds of hazards",60,160),t.fillText("along the way.",240,190),t.fillStyle="rgba(200, 200, 200, "+this.alpha+")",t.font="18px monospace",t.fillText("Control your growth by the [left] and [right] arrows.",5,270),t.fillText("Collect splitters to split your branches.",5,300),t.fillText("Avoid obstacles.",5,330),t.fillText("Press [left] or [right] to start.",5,360),t.fillText("Made by Attila Horvath for Ludum Dare 34.",5,450)}}]),t}();i["default"]=r},{}],19:[function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}();Object.defineProperty(i,"__esModule",{value:!0});var s=t("./branch"),o=a(s),l=t("./splitter"),h=a(l),u=function(){function t(e){var i=this;n(this,t),this.game=e,this.branches=[],this.addBranch(320,480),this.yOffset=0,this.splitters=[],this.growthInterval=15,this.lastSplitter=0,this.leftDown=!1,this.rightDown=!1,this.xSpeed=0,this.yOffset=this.branches.filter(function(t){return t.alive})[0].y-240,this.alive=!0,addEventListener("keydown",function(t){37===t.which?i.leftDown=!0:39===t.which&&(i.rightDown=!0)}),addEventListener("keyup",function(t){37===t.which?i.leftDown=!1:39===t.which&&(i.rightDown=!1)})}return r(t,[{key:"update",value:function(t){if(0===this.branches.filter(function(t){return t.alive}).length&&(this.alive=!1),this.alive){this.leftDown&&(this.xSpeed-=.001*t,this.xSpeed<-.3&&(this.xSpeed=-.3)),this.rightDown&&(this.xSpeed+=.001*t,this.xSpeed>.3&&(this.xSpeed=.3));var e=!0,i=!1,a=void 0;try{for(var n,r=this.branches[Symbol.iterator]();!(e=(n=r.next()).done);e=!0){var s=n.value;s.x+=this.xSpeed*t}}catch(o){i=!0,a=o}finally{try{!e&&r["return"]&&r["return"]()}finally{if(i)throw a}}var l=!0,u=!1,c=void 0;try{for(var f,d=this.branches[Symbol.iterator]();!(l=(f=d.next()).done);l=!0){var s=f.value;s.update(t)}}catch(o){u=!0,c=o}finally{try{!l&&d["return"]&&d["return"]()}finally{if(u)throw c}}if(0===this.branches.filter(function(t){return t.alive}).length)return void(this.alive=!1);this.yOffset=this.branches.filter(function(t){return t.alive})[0].y-240,this.lastSplitter+=t,this.lastSplitter>=1e3&&(Math.random()>.6&&this.splitters.push(new h["default"](this,640*Math.random()%640,this.yOffset-300)),this.lastSplitter=0);var v=!0,y=!1,p=void 0;try{for(var g,m=this.splitters[Symbol.iterator]();!(v=(g=m.next()).done);v=!0){var b=g.value;b.update(t)}}catch(o){y=!0,p=o}finally{try{!v&&m["return"]&&m["return"]()}finally{if(y)throw p}}this.game.score+=t/10,this.game.score=Math.floor(this.game.score)}}},{key:"draw",value:function(t,e,i){var a=!0,n=!1,r=void 0;try{for(var s,o=this.splitters[Symbol.iterator]();!(a=(s=o.next()).done);a=!0){var l=s.value;l.draw(t,e,i)}}catch(h){n=!0,r=h}finally{try{!a&&o["return"]&&o["return"]()}finally{if(n)throw r}}var u=!0,c=!1,f=void 0;try{for(var d,v=this.branches[Symbol.iterator]();!(u=(d=v.next()).done);u=!0){var y=d.value;y.draw(t,e,i)}}catch(h){c=!0,f=h}finally{try{!u&&v["return"]&&v["return"]()}finally{if(c)throw f}}}},{key:"addBranch",value:function(t,e){this.branches.push(new o["default"](this,t,e))}},{key:"splitBranch",value:function(t){var e=new o["default"](this,t.x,t.y);e.sectionTimer=t.sectionTimer,e.addSection(e.x,e.y,e.x,e.y),t.targetX=1+Math.round(8*Math.random()%8),e.targetX=-1-Math.round(8*Math.random()%8),this.branches.push(e)}}]),t}();i["default"]=u},{"./branch":2,"./splitter":17}]},{},[1]);